<!-- PDF 7.13 -->

<body>
    <script>
        // const promise = new Promise((resolve, reject) => {
        //     console.log('작업중...');
        //     setTimeout(() => {
        //         resolve('작업완료');
        //         // reject(new Error('응답없음'));
        //     }, 2000);
        // });
        // console.log(promise); // 안기다리고 바로 출력
        // // then : promise가 언제 응답할지 모르니까 그때까지 기다리게 하는거
        // promise.then((v) => {
        //     console.log(v);
        // })

        // promise 쓰면 작업을 다 하고나서 리턴을 해줌 : 비동기로 동작
        // 비동기로 만들지않고 작업 수행하면 


        // const result = setTimeout(() => {
        //     return '작업완료';
        // }, 2000);
        // console.log(result); // 1

        // // 진짜 작업완료 기다렸다가 '작업완료' 찍어내고 싶을때
        // let result;
        // setTimeout(() => {
        //     result = '작업완료';
        //     run(result);
        // }, 2000);
        // function run(r) {
        //     console.log(r);
        // }
        // console.log(result);
        // // 이렇게 해도 되지만 이 콜백함수가 다른 콜백함수를 부르고 그 콜백함수가 또 다른 콜백함수를 부르고...
        // // 콜백함수 지옥

        // const promise = new Promise((resolve, reject) => {
        //     setTimeout(() => {
        //         resolve('작업완료');
        //     }, 2000);
        // });
        // promise.then((res) => {
        //     console.log(res);
        // })
        // // 콜백함수를 동급으로 데려갈 수 있어서 코드를 유지보수 하기 쉬움
        // // promise -> await
        // async function run() {
        //     await promise;
        // }

        // // 실제 활용 사례 (데이터 처리할때 쓰는 공식같은 코드)
        // // fetch().then();
        // async function run2() {
        //     const url = 'https://newsapi.org/v2/top-headlines?country=kr&apiKey=9f5baf7d9f3f42879a20d7d19d9886e4';
        //     const res = await fetch(url);
        //     const data = await res.json();
        //     // console.log(data);
        //     // 각 기사 제목 뽑아보기
        //     const articles = data.articles;
        //     articles.forEach((article) => {
        //         const title = article.title;
        //         console.log(title);
        //     });
        // }
        // run2();

        // 현재 위치의 날씨, 온도
        navigator.geolocation.getCurrentPosition(async (pos) => {
            const lat = pos.coords.latitude;
            const lng = pos.coords.longitude;
            const url = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lng}&units=metric&appid=6edee3c2aa182bc44d18ccb204c98a31`;
            const res = await fetch(url);
            const data = await res.json();
            // console.log(url);
            const main = data.main;
            const temp = main.temp;
            console.log(temp);
        });
    </script>
</body>