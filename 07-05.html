<!-- PDF 7.13 -->

<body>
    <script>
        // const promise = new Promise((resolve, reject) => {
        //     console.log('작업중...');
        //     setTimeout(() => {
        //         resolve('작업완료');
        //         // reject(new Error('응답없음'));
        //     }, 2000);
        // });
        // console.log(promise); // 안기다리고 바로 출력
        // // then : promise가 언제 응답할지 모르니까 그때까지 기다리게 하는거
        // promise.then((v) => {
        //     console.log(v);
        // })

        // promise 쓰면 작업을 다 하고나서 리턴을 해줌 : 비동기로 동작
        // 비동기로 만들지않고 작업 수행하면 


        // const result = setTimeout(() => {
        //     return '작업완료';
        // }, 2000);
        // console.log(result); // 1

        // 진짜 작업완료 기다렸다가 '작업완료' 찍어내고 싶을때
        let result;
        setTimeout(() => {
            result = '작업완료';
            run(result);
        }, 2000);
        function run(r) {
            console.log(r);
        }
        console.log(result);
        // 이렇게 해도 되지만 이 콜백함수가 다른 콜백함수를 부르고 그 콜백함수가 또 다른 콜백함수를 부르고...
        // 콜백함수 지옥

        const promise = new Promise((resolve, reject) => {
            setTimeout(() => {
                resolve('작업완료');
            }, 2000);
        });
        promise.then(() => {})
        // 콜백함수를 동급으로 데려갈 수 있어서 코드를 유지보수 하기 쉬움
    </script>
</body>